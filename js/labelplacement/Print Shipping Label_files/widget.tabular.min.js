apex.widget.tabular={},function(tabular,report,$,undefined){function _highlightCheckedRow(a,b,c){b.checked?(report.gStyleChecked[a]&&$(b,apex.gPageContext$).closest("tr").children("td").css("background-color",report.gStyleChecked[a]),report.gRowActive[a][c]="Y"):(report.gStyleChecked[a]&&$(b,apex.gPageContext$).closest("tr").children("td").css("background-color",""),report.gRowActive[a][c]="N",$("#check-all-rows",apex.gPageContext$).prop("checked",!1))}function _setModified(a){var b=!1,c=$x_FormItems($x("report_"+a)),d=c.length,e=tabular.gChangedItems.length;for(var f=0;f<d;f++)tabular.gTabFormData[f]!==c[f].value&&c[f].name!=="X01"&&($x_Class(c[f],"apex-tabular-highlight"),b=!0);for(var g=0;g<e;g++)$x_Class(tabular.gChangedItems[g],"apex-tabular-highlight"),b=!0;return b}tabular.gNewRowDatePicker="",tabular.init=function(a,b){var c,d,e;c=$.extend({beforeRow:null,afterRow:null},b),tabular.gTabFormData=[],tabular.gErrItems=b.errorItems,tabular.gChangedItems=[],tabular.gNewRows=0,tabular.gTabFormRegionID=a,tabular.gTabFormReportID="report_"+a,tabular.gTabForm=$("#init_row_"+a,apex.gPageContext$).parent(),tabular.gTabFormDefaultBG=$("#init_row_"+a,apex.gPageContext$).children("td").css("background-color"),tabular.gTabFormInitRow=b.beforeRow+$("#init_row_"+a,apex.gPageContext$).html()+b.afterRow,b.initialPageLoad&&(tabular.gInternalRegionId=b.internalRegionId,tabular.gUnsavedMsg=b.unsavedMsg,tabular.gAjaxEnabled=b.ajaxEnabled,$(apex.gPageContext$).on("apexbeforepagesubmit",function(){$("input[name$=NOSUBMIT]",$("#"+tabular.gTabFormRegionID,apex.gPageContext$)[0]).each(function(){$x_disableItem(this,!0)}),$("#init_row_"+a,apex.gPageContext$).remove()})),$("#init_row_"+a,apex.gPageContext$).remove(),d=$x_FormItems($x(tabular.gTabFormReportID)),e=d.length;for(var f=0;f<e;f++)$(d[f]).attr("autocomplete","off"),d[f].name!=="X01"?tabular.gTabFormData[f]=d[f].value:tabular.gTabFormData[f]="0";$("#"+tabular.gTabFormRegionID,apex.gPageContext$).on("click","input.row-selector",function(){_highlightCheckedRow(tabular.gInternalRegionId,this,$(".row-selector",apex.gPageContext$).index(this))})},tabular.checkAll=function(a){$("input[name=f01]",$("#"+tabular.gTabFormRegionID,apex.gPageContext$)).each(function(b){$(this).prop("checked",a.checked),_highlightCheckedRow(tabular.gInternalRegionId,this,b)})},tabular.pad=function(a,b){var c=""+a;while(c.length<b)c="0"+c;return c},tabular.paginate=function(a,b){function c(){tabular.gAjaxEnabled?report.paginate(tabular.gInternalRegionId,b):apex.navigation.redirect(b)}_setModified(a)?confirm(tabular.gUnsavedMsg)&&c():c()},tabular.sort=function(a,b){function c(){tabular.gAjaxEnabled?report.sort(tabular.gInternalRegionId,b):apex.navigation.redirect(b)}_setModified(a)?confirm(tabular.gUnsavedMsg)&&c():c()},tabular.addRow=function(pNewRowVals,pNewRowMap,pDispTypeMap){var lItem,lNewRowIndex,lItemsIterator,lNewRowIdentifier,lItems=$x_FormItems($x(tabular.gTabFormReportID)),lItemsCount=lItems.length,lNewRow=tabular.gTabFormInitRow,lNewRowDatePicker=tabular.gNewRowDatePicker,lErrorItemsCount=tabular.gErrItems.length;tabular.gNewRows=tabular.gNewRows+1;for(lItemsIterator=0;lItemsIterator<lItemsCount;lItemsIterator++)tabular.gTabFormData[lItemsIterator]!==lItems[lItemsIterator].value&&lItems[lItemsIterator].name!=="X01"&&tabular.gChangedItems.push(lItems[lItemsIterator]);lNewRow=lNewRow.replace(/_0000/g,"_"+tabular.pad(tabular.gNumRows+tabular.gNewRows,4)),lNewRow=lNewRow.replace("p_element_index=\" +  escape ('0')","p_element_index=\" +  escape ('"+(tabular.gNumRows+tabular.gNewRows)+"')"),lNewRow=lNewRow.replace(/\$_row/g,tabular.gNumRows+tabular.gNewRows),$(tabular.gTabForm).append(lNewRow),$("#"+tabular.gTabFormRegionID,apex.gPageContext$).contents().find(".nodatafound").hide(),lNewRowDatePicker.length>0&&(lNewRowDatePicker=lNewRowDatePicker.replace(/_0000/g,"_"+tabular.pad(tabular.gNumRows+tabular.gNewRows,4)),eval(lNewRowDatePicker)),lNewRowIndex=tabular.pad(tabular.gNumRows+tabular.gNewRows,4),$(":input[id^=f][id$=_"+lNewRowIndex+"]",apex.gPageContext$).change(function(){$("#fcud_"+lNewRowIndex,apex.gPageContext$).val("C")});for(var lErrorItemIterator=0;lErrorItemIterator<lErrorItemsCount;lErrorItemIterator++)tabular.gErrItems[lErrorItemIterator].length>0&&$("#"+tabular.gErrItems[lErrorItemIterator],apex.gPageContext$).addClass("apex-tabular-form-error");if(pNewRowMap)for(var i=0;i<pNewRowMap.length;i++)lNewRowIdentifier=tabular.pad(tabular.gNumRows+tabular.gNewRows,4),$("#fcud_"+lNewRowIndex,apex.gPageContext$).val("C"),$("#"+pNewRowMap[i]+"_"+lNewRowIdentifier,apex.gPageContext$).val(pNewRowVals[i][tabular.gNewRows-1]),pDispTypeMap[i].indexOf("RADIO")>=0&&$("[name="+pNewRowMap[i]+"_"+lNewRowIdentifier+"_NOSUBMIT"+"]",apex.gPageContext$).each(function(){$(this).val()===pNewRowVals[i][tabular.gNewRows-1]&&$(this).prop("checked",!0)}),pDispTypeMap[i].indexOf("SIMPLE_CHECKBOX")>=0&&$("#"+pNewRowMap[i]+"_"+lNewRowIdentifier+"_01",apex.gPageContext$).each(function(){lItem=$x(pNewRowMap[i]+"_"+lNewRowIdentifier+"_01"),lItem.value===pNewRowVals[i][tabular.gNewRows-1]&&$(this).prop("checked",!0)});lItems=$x_FormItems($x(tabular.gTabFormReportID)),lItemsCount=lItems.length;for(lItemsIterator=0;lItemsIterator<lItemsCount;lItemsIterator++)lItems[lItemsIterator].name!=="X01"?tabular.gTabFormData[lItemsIterator]=lItems[lItemsIterator].value:tabular.gTabFormData[lItemsIterator]="0"}}(apex.widget.tabular,apex.widget.report,apex.jQuery),apex.widget.report.tabular=apex.widget.tabular;